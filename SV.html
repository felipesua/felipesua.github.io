<!DOCTYPE html>
<html>
<head>
	<title>SV - felipesc </title>
	<!-- Link API -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<!-- Latex API -->
	<!-- <script type="text/x-mathjax-config"> MathJax.Hub.Config({tex2jax: {inlineMath: [["$","$"], ["\(","\)"]]}}); </script> -->
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>
	<style>
	table {
		font-family: tahoma;
		border-collapse: collapse;
		width: 100%;
	}
	td,th {
		border: 1px solid #dddddd;
		text-align: left;
		padding: 8px;
	}
	tr:nth-child(even) {
		background-color: #dddddd;
	}
	</style>
	</head>
	<body>
		<div class="w3-content w3-display-container">
		<br>
		<div style="float: left"> [<a href="./index.html">home</a>] </div>
		<div style="text-align: center"> <font size="+2"> <b>Stein Variational Descent Methods</b> </font> </div>
		<br>
		<table>
			<tr>
				<td style="width:15%">
					<center>
						<button class="w3-button w3-black" onclick="add_to_var(-1,1)">-</button>
						<button class="w3-button w3-black" onclick="add_to_var(1,1)">+</button>
					</center>
				</td>
				<td style="width:10%"> <b>Model</b> </td>
				<td> <span id="m_span"></span> </td>
			</tr>
			<tr>
				<td >
					<center>
						<button class="w3-button w3-black" onclick="add_to_var(-1,2)">-</button>
						<button class="w3-button w3-black" onclick="add_to_var(1,2)">+</button>
					</center>
				</td>
				<td> <b>Kernel</b> </td>
				<td> <span id="k_span"></span> </td>
			</tr>
		</table>
		<br>
		<table>
			<tr>
				<td style="width:15%"> </td>
				<td style="width:10%"> <b><center>SVGD</center></b> </td>
				<td style="width:25%"> <span id="t_span" style="display:none"></span> </td>

				<td style="width:15%"> </td>
				<td style="width:10%"> <b><center>SVN</center></b> </td>
				<td style="width:25%"> <span id="t2_span" style="display:none"></span> </td>
			</tr>
			<tr>
				<td>
					<center>
						<button class="w3-button w3-black" onclick="add_to_var(-1,3)">-</button>
						<button class="w3-button w3-black" onclick="add_to_var(1,3)">+</button>
					</center>
				</td>
				<td> <b>Optimizer</b> </td>
				<td> <span id="o_span"></span> </td>
				<td>
					<center>
						<button class="w3-button w3-black" onclick="add_to_var(-1,4)">-</button>
						<button class="w3-button w3-black" onclick="add_to_var(1,4)">+</button>
					</center>
				</td>
				<td> <b>Rate</b> </td>
				<td> <span id="e_span"></span> </td>
			</tr>
		</table>


		<table>
			<tr>
				<td style="width:50%">			
					<img class="frame0"" src="./im/svgd/t0_m0_k0_o0_grad.png" style="width:100%"> 
					<img class="frame0"" src="./im/svgd/t0_m0_k0_o1_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m0_k0_o2_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m0_k0_o3_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m0_k1_o0_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m0_k1_o1_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m0_k1_o2_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m0_k1_o3_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k0_o0_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k0_o1_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k0_o2_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k0_o3_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k1_o0_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k1_o1_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k1_o2_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m1_k1_o3_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k0_o0_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k0_o1_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k0_o2_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k0_o3_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k1_o0_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k1_o1_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k1_o3_grad.png" style="width:100%">
					<img class="frame0"" src="./im/svgd/t0_m2_k1_o2_grad.png" style="width:100%">
				</td>
				<td style="width:50%">			
					<img class="frame2"" src="./im/svn/t1_m0_k0_e0_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m0_k0_e1_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m0_k0_e2_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m0_k1_e0_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m0_k1_e1_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m0_k1_e2_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m1_k0_e0_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m1_k0_e1_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m1_k0_e2_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m1_k1_e0_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m1_k1_e1_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m1_k1_e2_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m2_k0_e0_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m2_k0_e1_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m2_k0_e2_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m2_k1_e0_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m2_k1_e1_grad.png" style="width:100%">
					<img class="frame2"" src="./im/svn/t1_m2_k1_e2_grad.png" style="width:100%">
				</td>
			</tr>
			<tr>
				<td style="width:50%">			
					<img class="frame1"" src="./im/svgd/t0_m0_k0_o1.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k0_o0.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k0_o2.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k0_o3.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k1_o0.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k1_o1.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k1_o2.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m0_k1_o3.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k0_o0.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k0_o1.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k0_o2.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k0_o3.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k1_o0.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k1_o1.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k1_o2.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m1_k1_o3.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k0_o0.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k0_o1.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k0_o2.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k0_o3.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k1_o0.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k1_o1.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k1_o2.gif" style="width:100%">
					<img class="frame1"" src="./im/svgd/t0_m2_k1_o3.gif" style="width:100%">
				</td>
				<td style="width:50%">			
					<img class="frame3"" src="./im/svn/t1_m0_k0_e1.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m0_k0_e0.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m0_k0_e2.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m0_k1_e0.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m0_k1_e1.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m0_k1_e2.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m1_k0_e0.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m1_k0_e1.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m1_k0_e2.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m1_k1_e0.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m1_k1_e1.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m1_k1_e2.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m2_k0_e0.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m2_k0_e1.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m2_k0_e2.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m2_k1_e0.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m2_k1_e1.gif" style="width:100%">
					<img class="frame3"" src="./im/svn/t1_m2_k1_e2.gif" style="width:100%">
				</td>
			</tr>
		</table>
		<div style="float: right"> *All gifs are synchronized, so it might take a while to load. </div>
	</div>

	<script>
	function mod(n, m) {
		return ((n % m) + m) % m;
	}
	function saturate(x, m, M){
		return Math.max(Math.min(x,M),m);
	}
	var t_print = document.getElementById("t_span");
	var t_idx = 0;
	var t_N = 1;
	var t_dict = {0: "0"};
	t_print.innerHTML = t_dict[t_idx];

	var t2_print = document.getElementById("t2_span");
	var t2_idx = 0;
	var t2_N = 1;
	var t2_dict = {0: "1"};
	t2_print.innerHTML = t2_dict[t2_idx];

	var m_print = document.getElementById("m_span");
	var m_idx = 0;
	var m_N = 3;
	var m_dict = {0: "Gaussian", 1: "Anti-Banana", 2: "Star"};
	m_print.innerHTML = m_dict[m_idx];

	var k_print = document.getElementById("k_span");
	var k_idx = 0;
	var k_N = 2;
	var k_dict = {0: "Covariance-Scaled RBF", 1: "Isotropic RBF (0.1)"};
	k_print.innerHTML = k_dict[k_idx];

	var o_print = document.getElementById("o_span");
	var o_idx = 0;
	var o_N = 4;
	var o_dict = {0: "Constant(1.0)", 1: "Momentum(1.0,0.9)", 2: "RMS(1.0,0.9,0.01)", 3: "AdaGrad(1.0,0.01)"};
	o_print.innerHTML = o_dict[o_idx];

	var e_print = document.getElementById("e_span");
	var e_idx = 0;
	var e_N = 3;
	var e_dict = {0: "0.1", 1: "0.4", 2: "0.8"};
	e_print.innerHTML = e_dict[e_idx];

	var im0 = document.getElementsByClassName("frame0");
	var im1 = document.getElementsByClassName("frame1");
	var idx = 0;
	
	var im2 = document.getElementsByClassName("frame2");
	var im3 = document.getElementsByClassName("frame3");
	var idx2 = 0;

	var N = im0.length; // We are assuming that all imx have the same size
	var N2 = im2.length; // We are assuming that all imx have the same size
	function add_to_var(i, v){
		if(v == 0){
			t_idx = saturate(t_idx + i, 0, t_N-1);
			t_print.innerHTML = t_dict[t_idx];
		}else if(v == 1){
			m_idx = saturate(m_idx + i, 0, m_N-1);
			m_print.innerHTML = m_dict[m_idx];
		}else if(v == 2){
			k_idx = saturate(k_idx + i, 0, k_N-1);
			k_print.innerHTML = k_dict[k_idx];
		}else if(v == 3){
			o_idx = saturate(o_idx + i, 0, o_N-1);
			o_print.innerHTML = o_dict[o_idx];
		}else if(v == 4){
			e_idx = saturate(e_idx + i, 0, e_N-1);
			e_print.innerHTML = e_dict[e_idx];
		}else{
			e_idx = saturate(e_idx + i, 0, e_N-1);
			e_print.innerHTML = e_dict[e_idx];
		}
		update_idx();
	}
	function update_idx(){
		wash_im();
		idx = (o_idx + o_N * (k_idx + k_N * (m_idx + m_N * t_idx)));
		idx2 = (e_idx + e_N * (k_idx + k_N * (m_idx + m_N * t2_idx)));
		print_im();
	}
	function wash_im() {
		im0[idx].style.display = "none";
		im1[idx].style.display = "none";
		im2[idx2].style.display = "none";
		im3[idx2].style.display = "none";
	}
	function print_im() {
		im0[idx].style.display = "block";
		im1[idx].style.display = "block";
		im2[idx2].style.display = "block";
		im3[idx2].style.display = "block";
	}
	function wash_all() {
		for(var i = 0; i<N; i++){
			im0[i].style.display = "none";
			im1[i].style.display = "none";
		}
		for(var i = 0; i<N2; i++){
			im2[i].style.display = "none";
			im3[i].style.display = "none";
		}
	}
	wash_all();
	update_idx();
	</script>
	</body>
</html>